---
interface Props {
  currentPage: 'dashboard' | 'shopping' | 'profile';
  userName?: string;
  userLevel?: number;
  hasNotifications?: boolean;
  notificationCount?: number;
}

const { currentPage, userName, userLevel, hasNotifications = false, notificationCount = 0 } = Astro.props;
---

<!-- Mobile Bottom Navigation -->
<div class="fixed bottom-0 left-0 right-0 bg-white border-t-2 border-gray-200 shadow-2xl z-50 md:hidden">
  <div class="grid grid-cols-4 gap-1 px-2 py-3">
    <!-- Dashboard -->
    <a 
      href="/dashboard"
      class={`flex flex-col items-center gap-1 py-2 px-3 rounded-xl transition-all ${
        currentPage === 'dashboard' 
          ? 'bg-emerald-100 text-emerald-700' 
          : 'text-gray-600 hover:bg-gray-100'
      }`}
    >
      <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"/>
      </svg>
      <span class="text-xs font-semibold">Home</span>
    </a>

    <!-- Shopping -->
    <a 
      href="/dashboard/shopping-list"
      class={`flex flex-col items-center gap-1 py-2 px-3 rounded-xl transition-all ${
        currentPage === 'shopping' 
          ? 'bg-emerald-100 text-emerald-700' 
          : 'text-gray-600 hover:bg-gray-100'
      }`}
    >
      <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z"/>
      </svg>
      <span class="text-xs font-semibold">Shop</span>
    </a>

    <!-- Notifications -->
    <button 
      onclick="toggleNotificationPanel()"
      class="relative flex flex-col items-center gap-1 py-2 px-3 rounded-xl text-gray-600 hover:bg-gray-100 transition-all"
    >
      <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9"/>
      </svg>
      {hasNotifications && notificationCount > 0 && (
        <span class="absolute top-1 right-2 w-5 h-5 bg-red-500 text-white text-xs font-bold rounded-full flex items-center justify-center">
          {notificationCount}
        </span>
      )}
      <span class="text-xs font-semibold">Alerts</span>
    </button>

    <!-- Profile -->
    <a 
      href="/dashboard/profile"
      class={`flex flex-col items-center gap-1 py-2 px-3 rounded-xl transition-all ${
        currentPage === 'profile' 
          ? 'bg-emerald-100 text-emerald-700' 
          : 'text-gray-600 hover:bg-gray-100'
      }`}
    >
      <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"/>
      </svg>
      <span class="text-xs font-semibold">Profile</span>
    </a>
  </div>
</div>

<!-- Spacer for bottom nav -->
<div class="h-20 md:hidden"></div>